<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Discover</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/searchResult.css" type="text/css" />
    <link rel="shortcut icon" type="image/png" href="/images/fav.png"/>

    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <!-- <script type="text/javascript" src="/scripts/historyHandler.js"></script> -->
    <script type='text/javascript' src='/scripts/config.js'></script>

    <style>
      /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      </style>
  </head>

  <body>
    <div class=page-container>
      <% include ./partials/_header %>
      <div class="container">
        <main data-orders>
          <div id="browseHistory">
              <a href="/browse" class="tab">Discover</a>
              <a href="/history" class="tab tab_active">History</a>
          </div>
          <%  properties.forEach(function (prop) { %>
          <div class="searchResults">
            <div id="result">
              <div id="result_img">
                <img class="thumb_resize" src="<%= orderObject[prop][0].image %>">
              </div>
              <div id="result_description">
                <h2 class="reset"><%= orderObject[prop][0].restaurant_name %></h2>
                <p><%= orderObject[prop][0].address %></br>
                <%= orderObject[prop][0].category %></p>
                  <% for (let i = 0; i < orderObject[prop].length; i++){ %>
                  <%= orderObject[prop][i].quantity %> x <%= orderObject[prop][i].item_name%></br>
                  <% } %>
                  </p>
                <p><%= new Date(orderObject[prop][0].time_entered).toDateString() %>, <%= new Date(orderObject[prop][0].time_entered).toLocaleTimeString() %></p>
              </div>
            </div>
          </div>
          <% }) %>
        </main>
        <map>
          <div id="map"></div>
          <script async defer type='text/javascript' src='/scripts/map.js'></script>
        </map>
      </div>
    </div>
  </body>
</html>
